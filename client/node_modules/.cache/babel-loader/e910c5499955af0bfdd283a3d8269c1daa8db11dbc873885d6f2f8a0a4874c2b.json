{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst ADMIN_TOKEN = process.env.REACT_APP_ADMIN_TOKEN || 'admin-token';\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\n\n// Add auth token for admin requests\nconst setAuthToken = () => {\n  api.defaults.headers.authorization = `Bearer ${ADMIN_TOKEN}`;\n};\n\n// Remove auth token\nconst removeAuthToken = () => {\n  delete api.defaults.headers.authorization;\n};\n\n// Public API calls\nexport const getPublicPosts = () => api.get('/posts/public');\nexport const getPostBySlug = slug => api.get(`/posts/${slug}`);\n\n// Admin API calls (require authentication)\nexport const getAllPosts = () => {\n  setAuthToken();\n  return api.get('/posts');\n};\nexport const createPost = postData => {\n  setAuthToken();\n  return api.post('/posts', postData);\n};\nexport const updatePost = (slug, postData) => {\n  setAuthToken();\n  return api.put(`/posts/${slug}`, postData);\n};\nexport const deletePost = slug => {\n  setAuthToken();\n  return api.delete(`/posts/${slug}`);\n};\nexport default api;\n\n// client/src/utils/slugify.js\nexport const createSlug = title => {\n  return title.toLowerCase().trim().replace(/[^\\w\\s-]/g, '') // Remove special characters\n  .replace(/[\\s_-]+/g, '-') // Replace spaces and underscores with hyphens\n  .replace(/^-+|-+$/g, ''); // Remove leading/trailing hyphens\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","ADMIN_TOKEN","REACT_APP_ADMIN_TOKEN","api","create","baseURL","setAuthToken","defaults","headers","authorization","removeAuthToken","getPublicPosts","get","getPostBySlug","slug","getAllPosts","createPost","postData","post","updatePost","put","deletePost","delete","createSlug","title","toLowerCase","trim","replace"],"sources":["C:/Users/heman/Downloads/blog-project (1)/blog-project/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nconst ADMIN_TOKEN = process.env.REACT_APP_ADMIN_TOKEN || 'admin-token';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n});\r\n\r\n// Add auth token for admin requests\r\nconst setAuthToken = () => {\r\n  api.defaults.headers.authorization = `Bearer ${ADMIN_TOKEN}`;\r\n};\r\n\r\n// Remove auth token\r\nconst removeAuthToken = () => {\r\n  delete api.defaults.headers.authorization;\r\n};\r\n\r\n// Public API calls\r\nexport const getPublicPosts = () => api.get('/posts/public');\r\nexport const getPostBySlug = (slug) => api.get(`/posts/${slug}`);\r\n\r\n// Admin API calls (require authentication)\r\nexport const getAllPosts = () => {\r\n  setAuthToken();\r\n  return api.get('/posts');\r\n};\r\n\r\nexport const createPost = (postData) => {\r\n  setAuthToken();\r\n  return api.post('/posts', postData);\r\n};\r\n\r\nexport const updatePost = (slug, postData) => {\r\n  setAuthToken();\r\n  return api.put(`/posts/${slug}`, postData);\r\n};\r\n\r\nexport const deletePost = (slug) => {\r\n  setAuthToken();\r\n  return api.delete(`/posts/${slug}`);\r\n};\r\n\r\nexport default api;\r\n\r\n// client/src/utils/slugify.js\r\nexport const createSlug = (title) => {\r\n  return title\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/[^\\w\\s-]/g, '') // Remove special characters\r\n    .replace(/[\\s_-]+/g, '-') // Replace spaces and underscores with hyphens\r\n    .replace(/^-+|-+$/g, ''); // Remove leading/trailing hyphens\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AACjF,MAAMC,WAAW,GAAGH,OAAO,CAACC,GAAG,CAACG,qBAAqB,IAAI,aAAa;AAEtE,MAAMC,GAAG,GAAGP,KAAK,CAACQ,MAAM,CAAC;EACvBC,OAAO,EAAER;AACX,CAAC,CAAC;;AAEF;AACA,MAAMS,YAAY,GAAGA,CAAA,KAAM;EACzBH,GAAG,CAACI,QAAQ,CAACC,OAAO,CAACC,aAAa,GAAG,UAAUR,WAAW,EAAE;AAC9D,CAAC;;AAED;AACA,MAAMS,eAAe,GAAGA,CAAA,KAAM;EAC5B,OAAOP,GAAG,CAACI,QAAQ,CAACC,OAAO,CAACC,aAAa;AAC3C,CAAC;;AAED;AACA,OAAO,MAAME,cAAc,GAAGA,CAAA,KAAMR,GAAG,CAACS,GAAG,CAAC,eAAe,CAAC;AAC5D,OAAO,MAAMC,aAAa,GAAIC,IAAI,IAAKX,GAAG,CAACS,GAAG,CAAC,UAAUE,IAAI,EAAE,CAAC;;AAEhE;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC/BT,YAAY,CAAC,CAAC;EACd,OAAOH,GAAG,CAACS,GAAG,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAED,OAAO,MAAMI,UAAU,GAAIC,QAAQ,IAAK;EACtCX,YAAY,CAAC,CAAC;EACd,OAAOH,GAAG,CAACe,IAAI,CAAC,QAAQ,EAAED,QAAQ,CAAC;AACrC,CAAC;AAED,OAAO,MAAME,UAAU,GAAGA,CAACL,IAAI,EAAEG,QAAQ,KAAK;EAC5CX,YAAY,CAAC,CAAC;EACd,OAAOH,GAAG,CAACiB,GAAG,CAAC,UAAUN,IAAI,EAAE,EAAEG,QAAQ,CAAC;AAC5C,CAAC;AAED,OAAO,MAAMI,UAAU,GAAIP,IAAI,IAAK;EAClCR,YAAY,CAAC,CAAC;EACd,OAAOH,GAAG,CAACmB,MAAM,CAAC,UAAUR,IAAI,EAAE,CAAC;AACrC,CAAC;AAED,eAAeX,GAAG;;AAElB;AACA,OAAO,MAAMoB,UAAU,GAAIC,KAAK,IAAK;EACnC,OAAOA,KAAK,CACTC,WAAW,CAAC,CAAC,CACbC,IAAI,CAAC,CAAC,CACNC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;EAAA,CACzBA,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;EAAA,CACzBA,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}